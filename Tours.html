<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Tours</title>
</head>
<body> 

<div id="main-navbar"></div>

<div th:if="${message}">
  <p th:text="${message}"></p>
</div>

<div th:if="${not #lists.isEmpty(tours)}"> 
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Description</th>
        <th>Start Date</th>
        <th>End Date</th>
        <th>Booking Deadline</th>
        <th>Price</th>
        <th>Max Capacity</th>
        <th>Status</th>
        <th>Image URL</th>
        <th>Destinations</th> 
      </tr>
    </thead>
    <tbody>
      <tr th:each="tour : ${tours}"> 
        <td th:text="${tour.tourId}"></td>
        <td th:text="${tour.tourName}"></td>
        <td th:text="${tour.description}"></td>
        <td th:text="${tour.startDate}"></td>
        <td th:text="${tour.endDate}"></td>
        <td th:text="${tour.bookingDeadline}"></td>
        <td th:text="${tour.price}"></td>
        <td th:text="${tour.maxCapacity}"></td>
        <td th:text="${tour.status}"></td>
        <td>
          <img th:src="${tour.imageUrl}" alt="Tour Image" width="100"> 
        </td>
        <td> 
          <a th:href="@{'/tours/' + ${tour.tourName} + '/destinations'}">View Destinations</a> 
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div th:if="${error}">
  <p th:text="${error}"></p>
</div>

<script src="RoleChecking.js"></script> 

</body>
</html>